#!/bin/bash
set -xe

/eraft/output/metacli 172.18.0.2:8088,172.18.0.3:8089,172.18.0.4:8090 join 1 172.18.0.10:8088,172.18.0.11:8089,172.18.0.12:8090
/eraft/output/metacli 172.18.0.2:8088,172.18.0.3:8089,172.18.0.4:8090 join 2 172.18.0.13:8088,172.18.0.14:8089,172.18.0.15:8090
/eraft/output/metacli 172.18.0.2:8088,172.18.0.3:8089,172.18.0.4:8090 move 0-4 1
/eraft/output/metacli 172.18.0.2:8088,172.18.0.3:8089,172.18.0.4:8090 move 5-9 2

sleep 3

/eraft/output/shardcli 172.18.0.2:8088,172.18.0.3:8089,172.18.0.4:8090 put testkey testvalue
/eraft/output/shardcli 172.18.0.2:8088,172.18.0.3:8089,172.18.0.4:8090 get testkey
